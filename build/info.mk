# Quick info and setup summary

info-impl:
	@echo "========================================="
	@echo "MCP Gateway Development Environment"
	@echo "========================================="
	@echo ""
	@echo "Note: Required tools (kind, helm, kustomize, yq) will be"
	@echo "      automatically installed to ./bin/ when needed."
	@echo "      Requires: Go 1.20+ for some tool installations."
	@echo ""
	@echo "Service URLs:"
	@echo "  Gateway:     http://localhost:$(GATEWAY_LOCAL_PORT_HTTP_MCP) (run: make dev-gateway-forward)"
	@echo "  Broker:      http://localhost:8080 (run: make run-broker)"
	@echo "  Router:      grpc://localhost:9002 (run: make run-router)"
	@echo "  Mock MCP:    http://localhost:8081/mcp (run: kubectl port-forward -n mcp-server svc/mcp-test 8081:8081)"
	@if kubectl get svc -n keycloak keycloak >/dev/null 2>&1; then \
		echo "  Keycloak:    http://localhost:8095 (run: make keycloak-forward)"; \
		echo "               Admin: admin / admin"; \
	fi
	@echo ""
	@echo "Quick Start Commands:"
	@echo "  make dev                 # Configure for local development"
	@echo "  make run-router          # Start router locally"
	@echo "  make run-broker          # Start broker locally"
	@echo "  make dev-gateway-forward # Access gateway"
	@echo "  make logs                # Tail gateway logs"
	@echo ""
	@echo "Inspection:"
	@echo "  make urls                # Show all URLs"
	@echo "  make status              # Check component status"
	@echo "  make inspect-broker      # Open MCP Inspector for broker"
	@echo "  make inspect-server1     # Open MCP Inspector for test server 1 (Go SDK)"
	@echo "  make inspect-server2     # Open MCP Inspector for test server 2 (Go SDK)"
	@echo "  make inspect-server3     # Open MCP Inspector for test server 3 (Python FastMCP)"
	@echo ""
	@echo "Debugging:"
	@echo "  make debug-envoy         # Enable debug logging"
	@echo "  make istio-clusters      # Show registered services"
	@echo "  make istio-config        # Show proxy config"
	@echo ""
	@echo "More Help:"
	@echo "  make help                # Show all commands"
	@echo "  See README.md for detailed documentation"
	@echo ""
	@echo "========================================="

# Show setup complete message
setup-complete:
	@echo ""
	@echo "Setup Complete!"
	@echo ""
	@echo "Next steps:"
	@echo "  1. Configure for local development: make dev"
	@echo "  2. Start services in separate terminals:"
	@echo "     - make run-router"
	@echo "     - make run-broker"
	@echo "     - make dev-gateway-forward"
	@echo ""
	@echo "Run 'make info' anytime to see this information again."
	@echo ""
